{"version":3,"sources":["../../src/index.tsx","index.tsx","github.jpg"],"names":["getFormDataObject","formElement","Object","FormData","props","onSubmit","onChange","children","rest","formRef","useRef","React","ref","event","formData","App","className","console","clear","log","reset","htmlFor","type","name","id","placeholder","role","aria-label","target","rel","href","width","alt","src","GithubLogo","ReactDOM","render","document","getElementById","module","exports"],"mappings":"yNAqBA,IAAMA,EAAoB,SAACC,GACzB,OAAOC,mBAAuC,IAAIC,SAAlD,K,EAGW,SAACC,G,IACJC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,SAAUC,EAAsBH,EAAtBG,SAAaC,E,oIAAAA,CAASJ,sCAC5CK,EAAUC,iBAAhB,MAiBA,OACEC,wCACEC,IAAKH,EACLJ,SAlBiB,SAAH,OAChBQ,mB,oBACgB,MAAZR,EAAY,CACd,IAAMS,EAAWd,EAAkBS,EAAnC,S,uBACMJ,EAASS,EAAUL,EAAX,gC,mEAJA,oCAmBdH,SAXiB,WAAH,I,oBACA,MAAZA,EAAY,CACd,IAAMQ,EAAWd,EAAkBS,EAAnC,S,uBACMH,EAASQ,EAAUL,EAAX,gC,mEAHA,qCAQhBE,GADF,I,gBCpCII,G,MAAM,WAWV,OACE,yBAAKC,UAAU,aACb,4BAAK,YACL,wBAAIA,UAAU,iBAAd,8BAEA,kBAAC,EAAD,CAAMX,SAfuB,SAACS,EAAUb,GAC1CgB,QAAQC,QACRD,QAAQE,IAAI,aAAcL,GAC1Bb,EAAYmB,SAYoBd,SATD,SAACQ,GAChCG,QAAQE,IAAI,aAAcL,KAStB,yBAAKE,UAAU,cACb,2BAAOK,QAAQ,QAAf,UACA,2BACEL,UAAU,eACVM,KAAK,OACLC,KAAK,OACLC,GAAG,OACHC,YAAY,UAIhB,4BAAQH,KAAK,SAASN,UAAU,mBAAhC,WAKF,yBAAKA,UAAU,oBACb,mEACuC,IACrC,0BAAMU,KAAK,MAAMC,aAAW,UAA5B,kBAMJ,yBAAKX,UAAU,eACb,uBACEY,OAAO,SACPC,IAAI,sBACJC,KAAK,iDAEL,yBAAKC,MAAM,OAAOC,IAAI,SAASC,IAAKC,WAO9CC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBC/DjDC,EAAOC,QAAU,IAA0B,oC","file":"static/js/main.40b4c543.chunk.js","sourcesContent":["// eslint-disable-next-line\nimport React, { useRef } from 'react'\nimport 'polyfill-object.fromentries'\n\nexport interface FormDataObject {\n  [key: string]: FormDataEntryValue\n}\n\nexport type HandleForm = (\n  formData: FormDataObject,\n  formElement: HTMLFormElement\n) => void | Promise<void>\n\ninterface ReactFormProps\n  extends Omit<React.HTMLProps<HTMLFormElement>, 'onSubmit' | 'onChange'> {}\n\ninterface FormProps extends ReactFormProps {\n  onSubmit?: HandleForm\n  onChange?: HandleForm\n}\n\nconst getFormDataObject = (formElement: HTMLFormElement): FormDataObject => {\n  return Object.fromEntries<FormDataEntryValue>(new FormData(formElement))\n}\n\nconst Form = (props: FormProps): JSX.Element => {\n  const { onSubmit, onChange, children, ...rest } = props\n  const formRef = useRef<HTMLFormElement>(null)\n\n  const handleSubmit = async (event: React.FormEvent): Promise<void> => {\n    event.preventDefault()\n    if (onSubmit != null) {\n      const formData = getFormDataObject(formRef.current as HTMLFormElement)\n      await onSubmit(formData, formRef.current as HTMLFormElement)\n    }\n  }\n\n  const handleChange = async (): Promise<void> => {\n    if (onChange != null) {\n      const formData = getFormDataObject(formRef.current as HTMLFormElement)\n      await onChange(formData, formRef.current as HTMLFormElement)\n    }\n  }\n\n  return (\n    <form\n      ref={formRef}\n      onSubmit={handleSubmit}\n      onChange={handleChange}\n      {...rest}\n    >\n      {children}\n    </form>\n  )\n}\n\nexport default Form\n","//eslint-disable-next-line\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport Form, { HandleForm } from 'react-component-form'\n\nimport GithubLogo from './github.jpg'\nimport './index.css'\n\nconst App = () => {\n  const handleSubmit: HandleForm = (formData, formElement) => {\n    console.clear()\n    console.log('onSubmit: ', formData)\n    formElement.reset()\n  }\n\n  const handleChange: HandleForm = (formData) => {\n    console.log('onChange: ', formData)\n  }\n\n  return (\n    <div className='container'>\n      <h2>{'<Form />'}</h2>\n      <h5 className='title-install'>npm i react-component-form</h5>\n\n      <Form onSubmit={handleSubmit} onChange={handleChange}>\n        <div className='form-group'>\n          <label htmlFor='name'>Name :</label>\n          <input\n            className='form-control'\n            type='text'\n            name='name'\n            id='name'\n            placeholder='name'\n          />\n        </div>\n\n        <button type='submit' className='btn btn-primary'>\n          Submit\n        </button>\n      </Form>\n\n      <div className='result-container'>\n        <h4>\n          Try the form and Inspect the console{' '}\n          <span role='img' aria-label='smiley'>\n            ðŸ˜ƒ\n          </span>\n        </h4>\n      </div>\n\n      <div className='github-logo'>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://github.com/Divlo/react-component-form'\n        >\n          <img width='30px' alt='github' src={GithubLogo} />\n        </a>\n      </div>\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = __webpack_public_path__ + \"static/media/github.45be349d.jpg\";"],"sourceRoot":""}